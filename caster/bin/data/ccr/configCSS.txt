#
# This is a heavily modified version of Dragonfly's _multiedit.py command-module
#  meant to enable python  syntax with CCR

from dragonfly import *
from caster.lib import control, settings
from caster.lib.dfplus.hint.nodes import css
from caster.lib.dfplus.hint.hintnode import NodeRule, NodeAction
from caster.lib.dfplus.state.actions import ContextSeeker, Continuer, RegisteredAction
from caster.lib.dfplus.state.short import L, S, R

settings.register_language(".css", "CSS")

css_node = css.getCSSNode()
css_rule = NodeRule(css_node, None, control.STAT, False)

cmd.map = {
        # Spoken-form    ->    ->    ->     Action object
	"<" + css_rule.master_node.text + ">":  NodeAction(css_rule),
	"EM":		Text("NUMBER em"), 
	"pixels":	Text("NUMBER px"), 
	"percent":	Text("NUMBER %"), 
		
		
}

cmd.extras   = [
	RuleRef(css_rule, css_rule.master_node.text), 
           ]
cmd.defaults = {

           }



